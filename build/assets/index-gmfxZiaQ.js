import{r as h,j as e,J as f,K as v}from"./index-B6krznka.js";import{u as F,F as S,a as y,C as N,I as w,t as C,o as P,s as k,b as B,A as E,c as A}from"./useTimeOutMessage-DyWyBUrM.js";import{B as u}from"./index-D17ax4Bm.js";import"./CloseButton-DSZgVcCu.js";const I=P({email:k().email().min(5)}),T=o=>{var d;const[s,a]=h.useState(!1),{className:n,setMessage:t,setEmailSent:r,emailSent:i,children:x}=o,{handleSubmit:g,formState:{errors:m},control:j}=F({resolver:C(I)}),p=async l=>{const{email:b}=l;try{await f({email:b})&&(a(!1),r==null||r(!0))}catch(c){t==null||t(typeof c=="string"?c:"Some error occured!"),a(!1)}a(!1)};return e.jsx("div",{className:n,children:i?e.jsx(e.Fragment,{children:x}):e.jsxs(S,{onSubmit:g(p),children:[e.jsx(y,{label:"Email",invalid:!!m.email,errorMessage:(d=m.email)==null?void 0:d.message,children:e.jsx(N,{name:"email",control:j,render:({field:l})=>e.jsx(w,{type:"email",placeholder:"Email",autoComplete:"off",...l})})}),e.jsx(u,{block:!0,loading:s,variant:"solid",type:"submit",children:s?"Submiting...":"Submit"})]})})},M=({signInUrl:o="/sign-in"})=>{const[s,a]=h.useState(!1),[n,t]=B(),r=v(),i=()=>{r(o)};return e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:s?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-2",children:"Check your email"}),e.jsx("p",{className:"font-semibold heading-text",children:"We have sent a password recovery to your email"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-2",children:"Forgot Password"}),e.jsx("p",{className:"font-semibold heading-text",children:"Please enter your email to receive a verification code"})]})}),n&&e.jsx(E,{showIcon:!0,className:"mb-4",type:"danger",children:e.jsx("span",{className:"break-all",children:n})}),e.jsx(T,{emailSent:s,setMessage:t,setEmailSent:a,children:e.jsx(u,{variant:"default",type:"button",onClick:i,children:"Continue"})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Back to "}),e.jsx(A,{to:o,className:"heading-text font-bold",themeColor:!1,children:"Sign in"})]})]})},R=()=>e.jsx(M,{});export{M as ForgotPasswordBase,R as default};
